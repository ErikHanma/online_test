{% extends 'myapp/base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'myapp/css/test_list.css' %}">
{% endblock %}

{% block content %}
<div class="hero">
    <h1>üéØ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º</p>
</div>

<div class="container">
    {% if recommended_tests %}
        <h2 class="section-title">‚≠ê –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∞—Å</h2>
        <div class="tests-grid">
            {% for test in recommended_tests %}
            <div class="test-card">
                <span class="recommended-badge">–î–ª—è –≤–∞—Å</span>
                <span class="test-badge badge-{{ test.specialization }}">
                    {% if test.specialization == 'backend' %}üîß Backend
                    {% elif test.specialization == 'frontend' %}üé® Frontend
                    {% elif test.specialization == 'qa' %}‚úÖ QA
                    {% elif test.specialization == 'fullstack' %}üåü Fullstack
                    {% elif test.specialization == 'devops' %}‚öôÔ∏è DevOps
                    {% endif %}
                </span>
                <h2>{{ test.title }}</h2>
                <p>{{ test.description|truncatewords:20 }}</p>
                
                <div class="test-meta">
                    <span>‚è±Ô∏è {{ test.time_limit_minutes }} –º–∏–Ω</span>
                    <span>üìù {{ test.questions.count }} –≤–æ–ø—Ä–æ—Å–æ–≤</span>
                </div>
                
                <a href="{% url 'test_detail' test.pk %}" class="btn btn-primary" style="width: 100%; text-align: center;">
                    –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç ‚Üí
                </a>
            </div>
            {% endfor %}
        </div>
    {% endif %}

    {% if other_tests %}
        <h2 class="section-title">üìö –î—Ä—É–≥–∏–µ —Ç–µ—Å—Ç—ã</h2>
        <div class="tests-grid">
            {% for test in other_tests %}
            <div class="test-card">
                <span class="test-badge badge-{{ test.specialization }}">
                    {% if test.specialization == 'backend' %}üîß Backend
                    {% elif test.specialization == 'frontend' %}üé® Frontend
                    {% elif test.specialization == 'qa' %}‚úÖ QA
                    {% elif test.specialization == 'fullstack' %}üåü Fullstack
                    {% elif test.specialization == 'devops' %}‚öôÔ∏è DevOps
                    {% endif %}
                </span>
                <h2>{{ test.title }}</h2>
                <p>{{ test.description|truncatewords:20 }}</p>
                
                <div class="test-meta">
                    <span>‚è±Ô∏è {{ test.time_limit_minutes }} –º–∏–Ω</span>
                    <span>üìù {{ test.questions.count }} –≤–æ–ø—Ä–æ—Å–æ–≤</span>
                </div>
                
                <a href="{% url 'test_detail' test.pk %}" class="btn btn-primary" style="width: 100%; text-align: center;">
                    –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç ‚Üí
                </a>
            </div>
            {% endfor %}
        </div>
    {% endif %}

    {% if tests and not recommended_tests and not other_tests %}
        <div class="tests-grid">
            {% for test in tests %}
            <div class="test-card">
                <span class="test-badge badge-{{ test.specialization }}">
                    {% if test.specialization == 'backend' %}üîß Backend
                    {% elif test.specialization == 'frontend' %}üé® Frontend
                    {% elif test.specialization == 'qa' %}‚úÖ QA
                    {% elif test.specialization == 'fullstack' %}üåü Fullstack
                    {% elif test.specialization == 'devops' %}‚öôÔ∏è DevOps
                    {% endif %}
                </span>
                <h2>{{ test.title }}</h2>
                <p>{{ test.description|truncatewords:20 }}</p>
                
                <div class="test-meta">
                    <span>‚è±Ô∏è {{ test.time_limit_minutes }} –º–∏–Ω</span>
                    <span>üìù {{ test.questions.count }} –≤–æ–ø—Ä–æ—Å–æ–≤</span>
                </div>
                
                <a href="{% url 'test_detail' test.pk %}" class="btn btn-primary" style="width: 100%; text-align: center;">
                    –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç ‚Üí
                </a>
            </div>
            {% endfor %}
        </div>
    {% endif %}

    {% if not tests and not recommended_tests and not other_tests %}
        <div class="empty-state">
            <h2>üòî –¢–µ—Å—Ç—ã –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</h2>
            <p>–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤</p>
            {% if user.is_staff %}
                <a href="/admin/" class="btn btn-primary" style="margin-top: 1rem;">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}